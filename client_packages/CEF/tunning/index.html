<!DOCTYPE html>

<html>

<head>
	
	<!-- Custom Style --> 
	<style type="text/css">
		html body {
		    background-color: rgba(0, 0, 0, 0.0);
			user-select: none; 
		}
		body .container {
		    margin-top: 17%;
			margin-left: -1%
		} 

		body .container2 {
		    margin-top: -26%;
			margin-left: 80%;  
		}

		::-webkit-scrollbar {
			display: none;  
		}
 
		.scroll {
			overflow-y: scroll;  
			width: 310px;
			height: 330px; 
		}
 
		.category.active {
			background-color: #2d3239;
		}

		.item.active {
			background-color: #2d3239;
		}
 
	</style>

	<!-- Fontawesome CDN -->
	<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
	
	<!-- Bootstrap 4 CDN -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous"> 
 

</head> 
	<body>
		<div class = "modal" id = "buy_item" tabindex = "-1" role = "dialog">
			<div class = "modal-dialog modal-dialog-centered" role = "document">
				<div class = "modal-content text-light" style = "background-color: #212429;">
					<div class = "modal-header">
						<h5 class = "modal-title">Confirm order</h5>
					
						<button class="btn btn-dark text-right btn-sm" style="background-color: #212429;" data-dismiss = "modal"><i class="fa fa-times-circle"></i></button>
					
					</div>
					
					<div class = "modal-body">

						<h6>  
							<div class="text" style="overflow-y: scroll; width: 300px; height: 100px;"> 

								<a id =  "checkout_result"></a> 
							</div> 

							<br>   
							Total cost: <span style = "color:#00802b;" id="checkoutMoney_result"></span>$ 
							
							<br><br>
							<center> 
								<button style = "width: 130px; margin-right: 10px;" type = "button" class="btn btn-info btn-sm" onclick = "clickButton(0);">Card <i class = "fa fa-credit-card"></i></button>
								<button style = "width: 130px; margin-left:  10px;" type = "button" class="btn btn-success btn-sm" onclick =  "clickButton(1);">Cash <i class = "fa fa-money"></i></button> 
							</cen
						</h6>
					</div> 
				</div>
			</div>
		</div>

	
		<div class = "container">
			<div class="row mx-auto"> 
				<div class = "col-md-4">

					<div class = "card text-light" style = "background-color: #212429;">
	
						<div class = "card-header">
							<h5>
								<i class="fa fa-car" aria-hidden="true"></i> Available parts
							
								<button class="btn btn-dark btn-sm float-right" onclick = "clickButton(4, 4);"><i class="fa fa-times"></i></button>
							</h5>   
						</div>
	
						<div class="card-body">
		
							<div class="scroll items-list"> 

								<h6 class = "category" style="padding: 1rem 0.5rem;">
									<img src = "images/right-arrow.png" style="width: 15px;"> Spoilers <span class="badge badge-pill badge-info float-right">2</span>
								</h6> 
 
								<h6 class = "category" style="padding: 1rem 0.5rem;">
									<img src = "images/right-arrow.png" style="width: 15px;"> Front bumper <span class="badge badge-pill badge-info float-right">2</span>
								</h6>  

							</div> 
							
							<button type="button" class="btn btn-info btn-block btn-sm" onclick="clickButton(2);">Reset <i class="fa fa-undo" aria-hidden="true"></i></button>
							<button type="button" class="btn btn-success btn-block btn-sm" onclick="clickButton(3);">Checkout <i class="fa fa-check" aria-hidden="true"></i></button>
						</div>  
					</div>  
				</div>
			</div>
		</div>

		<div class = "container2" id = "container_selected">
			<div class="row mx-auto"> 
				<div class = "col-md-12">

					<div class = "card text-light" style = "background-color: #212429;">
	
						<h5 class = "card-header text-center" id = "selected_name">SPOILERS</h5>
	
						<div class="card-body">
		
							<div style="width: 310px; height: 400px;" class = "scroll2">

								<h6 class = "item" style="padding: 1rem 0.5rem;" id = "skema"><img src = "images/right-arrow.png" style="width: 15px;"> Standard <span class="float-right" style = "color:#00802b;">0$</span></h6>
							
								<h6 class = "item" style="padding: 1rem 0.5rem;" id = "skema"><img src = "images/right-arrow.png" style="width: 15px;"> Small Slip Spoiler <span class="float-right" style = "color:#00802b;">5.000$</span></h6>
  
								<h6 class = "item" style="padding: 1rem 0.5rem;" id = "skema"><img src = "images/right-arrow.png" style="width: 15px;"> Small Slip Spoiler <span class="float-right" style = "color:#00802b;">5.000$</span></h6>

								<h6 class = "item" style="padding: 1rem 0.5rem;" id = "skema"><img src = "images/right-arrow.png" style="width: 15px;"> Small Slip Spoiler <span class="float-right" style = "color:#00802b;">5.000$</span></h6>
 
							</div>  
						</div>  
					</div>  
				</div>
			</div>
		</div>


		<script> 

		    function formatMoney(n, c, d, t) 
			{
				var c = isNaN(c = Math.abs(c)) ? 2 : c,
					d = d == undefined ? "." : d,
					t = t == undefined ? "," : t,
					s = n < 0 ? "-" : "",
					i = String(parseInt(n = Math.abs(Number(n) || 0).toFixed(c))),
					j = (j = i.length) > 3 ? j % 3 : 0;
				return s + (j ? i.substr(0, j) + t : "") + i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : "");
			}  
			
			var mouseStatus = false;
			const items = document.querySelectorAll('.category'); 
			const items2 = document.querySelectorAll('.item');  
 
			const itemsClothing  = [ ['Spoilers'], ['Front bumper'] ]; 
			const category_items = 
			[
				//NAME PRICE TYPE  INDEX
				["Standard", 0, 0, 255],
				["Small Slip Spoiler", 5000, 0, 0], 
				["Small Slip Spoiler", 5000, 0, 2],
				["Small Slip Spoiler", 5000, 0, 3] 
			]
  
			window.addEventListener('DOMContentLoaded', () => {

				//Seteaza prima optiune activa
				items[0].classList.add('active');   
				for(let x = 0; x < itemsClothing.length; x++)
				{   
					items[x].name = itemsClothing[x][0];   
				}  
 
				items2[0].classList.add('active');   
				for(let x = 0; x < category_items.length; x++)
				{   
					items2[x].name  = category_items[x][0];   
					items2[x].price = category_items[x][1];   

					items2[x].index = category_items[x][2];   
					items2[x].type = category_items[x][3]; 
				}  
			});

			//CLICKED CATEGORY
			items.forEach(category => {
				category.addEventListener('click', (e) => {

					mouseStatus = false;
 
					document.querySelector('.category.active').classList.remove('active');
					category.classList.add('active');
		
					document.querySelector('#selected_name').innerHTML = category.name;  
				});
			}); 


			//CLICKED ITEM FROM CATEGORY SELECT  
			items2.forEach(item => {
				item.addEventListener('click', (e) => { 

					mouseStatus = false;

					document.querySelector('.item.active').classList.remove('active'); 
					item.classList.add('active');

					$(window).unbind('mousemove');

					sendInfo(1);
  
				   // mp.trigger("add_tunning_components", item.name, item.price, item.index, item.type);  
				});
			}); 
		 
			function clickButton(option, method)
			{
			    //mp.trigger("loadTunningInfo", option, method); 
			}  

			function showCheckout(text, totalmoney)
			{
				$('#buy_item').modal(); 
	
				document.querySelector('#checkout_result').innerHTML = text;  
				document.querySelector('#checkoutMoney_result').innerHTML = totalmoney;  
			} 

			//PRESS MOUSE CLICK
			const myPics = document.getElementById('skema');
		    window.addEventListener('mousedown', e => {
 
				if(e.type == 'mousedown') 
				{
					console.log('asdasd'); 
				}
				else if(e.type == 'click') 
				{
					console.log('clicked'); 
				} 
			});

			window.addEventListener('mouseup', e => {

			    mouseStatus = false; 	 
			});

			window.addEventListener('mousemove', e => {
 
				if(mouseStatus == true)
				{ 
					//mp.trigger("move_tunning_vehicle"); 

					//sendInfo(0);
				}   
			});

			function sendInfo(option)
			{
				switch(option)
				{
					case 0:
					{
						console.log('moved');
						break;
					}

					case 1:
					{
						console.log('clicked');
						break;
					}
				}
			} 

		</script>
	
	
		<!-- Bootstrap 4 Scrips CDN -->     
		<script src = "tunning.js"></script>
		<script src = "https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script> 
		<script src = "https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script> 
		<!-- End Bootstrap 4 Scripts CDN-->

	</body> 
</html> 